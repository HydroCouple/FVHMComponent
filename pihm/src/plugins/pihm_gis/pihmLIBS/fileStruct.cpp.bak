#include <iostream>
#include <string>
#include <fstream>
#include "fileStruct.h"
#include <QtGui>

using namespace std;


QString readLineNumber(const char* fileName, int lineNumber){

	char temp[1000]; QString tempQString;
	ifstream file;
	file.open(fileName, ios::in);

	for (int i=0; i<lineNumber; i++)
		file.getline(temp, 1000);//getline(file, temp);

	file.close();
	tempQString = temp;
	return tempQString;
}

int writeLineNumber(const char *fileName, int lineNumber, const char* str){
	
	ifstream inFile; int lineCount=0;
	ofstream outFile;
	string temp;

	inFile.open(fileName, ios::in);
	outFile.open("tempWrite.txt", ios::out);
	while(! inFile.eof() ){
		if(lineCount != 0){
			getline(inFile, temp);
			outFile <<"\n"<< temp;
			lineCount++;
		}
		else{
			getline(inFile, temp);
                        outFile << temp;
			lineCount++;
		}
	}
	lineCount = 0;
	inFile.close();
	outFile.close();


	inFile.open("tempWrite.txt", ios::in);
	outFile.open(fileName, ios::out);

	while(! inFile.eof() ){
		lineCount++;
		if(lineCount == lineNumber){
			if(lineCount != 1){
				getline(inFile, temp);
				outFile <<"\n"<<str;
			}
			else{
				getline(inFile, temp);
				outFile<<str;
			}
		}
		else{
			if(lineCount != 1){
				getline(inFile, temp);
				outFile<<"\n"<<temp;
			}
			else{
				getline(inFile, temp);
				outFile<<temp;
			}
		}
	}
	cout<<lineCount<<"\n";
	if(lineCount < lineNumber){
		for(int i=lineCount; i<lineNumber; i++){
			outFile<<"\n";
		}
		outFile<<str;
	}

	inFile.close();
        outFile.close();
}
